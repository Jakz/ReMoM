@ECHO OFF

REM ######################################################################################
REM #
REM #  BCC.EXE - Borland C++ v3.00 (c)1991
REM #
REM       C:\BORLANDC\BIN\BCC.EXE -ml -nbcc_out -S -v -y @MRM.RSP
REM       C:\BORLANDC\BIN\BCC.EXE -ml -nout -v -y @MGC.RSP
REM #
REM #      -B
REM #          Compile via assembly
REM #      -c
REM #          Compile only
REM #      -D
REM #          Define macro
REM #      -nxxx
REM #          Output file directory
REM #      -M
REM #          Generate link map
REM #      -mx
REM #          Set Memory Model
REM #      -oxxx
REM #          Object file name
REM #      -Ox
REM #          Optimizations
REM #      -S
REM #          Produce assembly output
REM #      -U
REM #          Undefine macro
REM #      -v
REM #          Source level debugging
REM #      -y
REM #          Produce line number info
REM #
REM ######################################################################################

REM ######################################################################################
REM #
REM #  TASM.EXE - Turbo Assembler v3.0 (c)1991
REM #
REM #    /c
REM #         Generate cross-reference in listing
REM #    /dSYM[=VAL]
REM #         Define symbol SYM = 0, or = value VAL
REM #    /e
REM #         Generates floating-point emulator instructions
REM #    /la  {/l, /la}
REM #         Shows high-level interface code in listing file
REM #    /m
REM #         Allow multiple passes to resolve forward references (default 5)
REM #    /ml  {/ml, /mx, /mu}
REM #         Treats symbols as case-sensitive
REM #    /t
REM #         Suppresses messages on successful assembly
REM #    /z
REM #         Displays source lines along with error messages
REM #    /zi  {/zi, /zd, /zn}
REM #         Function Enables debug information in object file
REM #
REM ######################################################################################

REM ######################################################################################
REM #
REM #  TLINK.EXE - Turbo Link v5.0 (c)1991
REM #
REM #    /c
REM #         Case significant in symbols
REM #    /l
REM #         creates a section in the .MAP file for source code line numbers [NOTE: Requires -y or -v and NOT -lx]
REM #    /s
REM #         creates a map file with segments, public symbols, the program start address, and adds a detailed segment map [NOTE: s > m > default < x]
REM #    /TDe 
REM #         Specify output file type: DOS image, EXE
REM #    /v
REM #         Full symbolic debug information
REM #    ,,,
REM #         generates the OBJ, LST, MAP, and XREF
REM #
REM ######################################################################################

SET STBC=C:\BORLANDC\BIN\BCC.EXE -B -c -DDEBUG=1 -ml -M -S -U__VSCode__ -v -y
SET STTA=C:\BORLANDC\BIN\TASM.EXE /c /dDEBUG=1 /e /la /m /ml /t /z /zi
SET STTL=C:\BORLANDC\BIN\TLINK.EXE /c /l /s /TDe /v

RESCAN
CLS
REM MKCLEAN.BAT


%STBC% TST_MGC.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% Y4_VL.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% STU_DBG.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% STU_UTIL.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% STU_VGA.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% MGC_MAIN.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% MGC_DEF.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% MOM_DEF.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% ST_DBG.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% ST_DEF.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% ST_EMM.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% ST_GUI.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% ST_HLP.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% ST_LBX.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% ST_SA.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% ST_SND.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% ST_TXT.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% ST_VGA.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% FileSize.C
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% LbxLdEt1.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _o57p01c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _o60p01c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _o60p02c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s01p03c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s01p03c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s01p04c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s01p05c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s01p06c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s01p07c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s01p08c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s02p01.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s02p03.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s02p05.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

REM %STTA% _s03p05.asm
REM IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s03p05c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s04p01c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s05p01c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s05p02c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s05p05c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s06p01c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s06p02c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s06p04c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s07p04c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s07p05.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s07p06c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s07p07c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s07p08.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s07p09.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s08p07c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s08p08c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s08p12c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s08p14c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s08p15c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s08p16.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s08p19c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s09p01c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s09p02.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s09p03.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s09p05a.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s09p06a.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s09p07.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s10p01c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s10p02c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s10p03c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s10p04c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s10p10c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s10p11c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s10p12c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s10p13c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s10p15c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s10p16.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s10p17c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s12p01.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s12p02a.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s12p03c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s12p04c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s12p05.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s12p06.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s12p07c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

REM %STBC% _s12p08a.c
REM IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s12p08c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s12p10.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s12p11c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s12p12c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p01c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p03c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p04c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p11c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p12c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p13c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p14c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p15c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p16c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p20c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p25c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p26c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p27c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p31c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s13p32c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s14p01c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s14p03c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s14p04c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s14p05c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s15p01.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s16p01a.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s17p06c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s17p24c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s17p35c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s17p36.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s17p37.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s17p39.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s17p40.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s17p41.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s17p42.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s18p01.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s18p02.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s18p03.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s18p05.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s18p06.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s18p07.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s19p11c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s19p14c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s20p01a.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s20p05c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s21p01c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s21p07c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s22p07.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s22p22c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s24p05c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s24p06c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s26p01.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s26p02.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s26p03.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s26p04a.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s26p05.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s26p06.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s26p07.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s27.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s27a.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s28p02.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s28p11a.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s28p14c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s28p15.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s28p16.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p01c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p02.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p03c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p04c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p05.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p06.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p07c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p09.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p10.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p11.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p12.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p13c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p14c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p16.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p17.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p18c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p19c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p20.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p21.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p22c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p23c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p24c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p25c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p26c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p29.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p30.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p31.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s33p32a.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p33.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p34.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p35.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p37.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p38.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p39.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s33p40.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p01c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p08c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p12c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p13c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p22c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s34p25.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s34p26.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STTA% _s34p47.asm
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p49c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p57c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p65c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p67c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p66c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p76c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p71c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p72c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p73c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p76c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p79c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p81c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p82c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p83c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER

%STBC% _s34p85c.c
IF ERRORLEVEL 1 GOTO ERROR_HANDLER


tlink @TST_MGC.RSP



GOTO DONE

:ERROR_HANDLER
ECHO ERROR: compilation failed - skipping linking

:DONE
